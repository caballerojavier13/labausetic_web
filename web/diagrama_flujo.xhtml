<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
  <h:head>
    <title>Testing Formal</title>
    <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="#{request.contextPath}/css/my-theme.css" />
    <script type="text/javascript" src="#{request.contextPath}/js/jquery-2.1.1.min.js" ></script>
    <script type="text/javascript" src="#{request.contextPath}/js/bootstrap.js" ></script>
    <script type="text/javascript" src="#{request.contextPath}/js/raphael-min.js" ></script>
    <script type="text/javascript" src="#{request.contextPath}/js/flowchart-1.3.4.min.js" ></script>
    <link rel="shortcut icon" type="image/png" href="#{request.contextPath}/img/favicon.png" />
    <script>

      window.onload = function() {
        var btn = document.getElementById("run"),
                cd = document.getElementById("code"),
                chart;

        (btn.onclick = function() {
          var code = cd.value;

          if (chart) {
            chart.clean();
          }

          chart = flowchart.parse(code);
          chart.drawSVG('canvas', {
            'x': 0,
            'y': 0,
            'line-width': 2,
            'text-margin': 5,
            'font-size': 12,
            'font': 'normal',
            'font-family': 'Helvetica',
            'font-weight': 'normal',
            'font-color': 'black',
            'line-color': 'darkgray',
            'element-color': 'black',
            'fill': 'white',
            'yes-text': 'Si',
            'no-text': 'No',
            'arrow-end': 'block',
            'symbols': {
              'start': {
                'font-color': 'black',
                'element-color': 'black',
                'fill': 'white'
              },
              'end': {
                'class': 'end-element'
              }
            }
          });
        })();

      };
    </script>
  </h:head>
  <h:body>
    <div class="container">
      <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand">Testing Formal</a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
              <li><a href="./index.xhtml">Home</a></li>
              <li><a href="./faces/select_proyecto.xhtml">Codigo Fuente</a></li>
              <li class="active"><a href="#">Diagrama de Flujo</a></li>  
            </ul>

          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>


    </div>

    <div style="position: absolute; top: 100px;left: 10%;width: 80%;">
      
      <div><textarea id="code" style="width: 100%; resize: none;display: block; border-radius: 5px; border: none; box-shadow: 0 0 5px gray;" rows="11">
#{diagrama_flujo_bean.dibujarDiagrama()}
        </textarea></div>
      <div><button id="run" type="button" class="btn btn-default" style="width: 200px; display: block; margin-top: 10px; ">Run</button></div>
      <div id="canvas" style="width: 90%; left: 10%; height: 100%; padding-bottom: 30px;margin-bottom: 30px"></div>
    </div>
  </h:body>
</html>

